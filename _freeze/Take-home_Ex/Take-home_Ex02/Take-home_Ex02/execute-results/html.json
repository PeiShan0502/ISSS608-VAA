{
  "hash": "4ca769e42f1f074cb9de8a58557b0e9f",
  "result": {
    "markdown": "---\ntitle: \"Take-home Exercise 1 Part 2: DataVis Makeover\"\nauthor: \"Kwok Pei Shan\"\ndate: \"April 30, 2024\"\ndate-modified: \"May 5, 2024\"\nexecute: \n  eval: true\n  echo: true\n  warning: false\n  freeze: true\n---\n\n\n## **Introduction**\n\nIn this take-home exercise, we will select one data visualisation and critic it in terms of clarity and aesthetics. We will then remake the data visualisation by using ggplot2, ggplot2 extensions and tidyverse packages.\n\n## **Getting Started**\n\n### **Load R packages**\n\nFirst, we install and load the following R packages:\n\n\n::: {.cell}\n\n```{.r .cell-code}\npacman::p_load(ggdist, ggridges, ggthemes,\n               gganimate, ggrepel,\n               patchwork, colorspace,\n               tidyverse)\n```\n:::\n\n\n### **Import Data**\n\nThen we import the necessary data:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nq1_23 <- read_csv(\"data/ResidentialTransaction20240308160536.csv\")\nq2_23 <- read_csv(\"data/ResidentialTransaction20240308160736.csv\")\nq3_23 <- read_csv(\"data/ResidentialTransaction20240308161009.csv\")\nq4_23 <- read_csv(\"data/ResidentialTransaction20240308161109.csv\")\nq1_24 <- read_csv(\"data/ResidentialTransaction20240414220633.csv\")\n```\n:::\n\n\nThe code chunk below combines all the data from 2023 and 2024 Q1 into one data set:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nprivate_property_data <- rbind(q1_23, q2_23, q3_23, q4_23, q1_24)\n```\n:::\n\n\n## **Critic Data Visualisation**\n\nSubmission taken from: [**Distribution of Private Residential Market (1st quarter of 2023 - 1st quarter of 2024)**](https://isss608-zjho008.netlify.app/take-home_ex/take-home_ex01/take-home_ex01#distribution-of-private-residential-market-1st-quarter-of-2023---1st-quarter-of-2024)\n\nThis is the original histogram:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data=private_property_data, \n       aes(x= `Unit Price ($ PSM)`, \n           fill = `Property Type`)) +\n  geom_histogram(bins=20, \n                 color=\"grey30\")\n```\n\n::: {.cell-output-display}\n![](Take-home_Ex02_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n\n[Clarity:]{.underline}\n\n-   It is clear because y-axis starts from 0, and the height of 2D columns are easy to gauge.\n\n-   Stacked histogram makes it difficult to gauge the height of the columns for each property type, and hence it’s difficult to see the distribution of prices for each property type. For example, detached house and semi-detached house can hardly be seen in the histogram.\n\n-   Y-axis label axis - it may not be clear to the viewer, that the count is actually referring to the no. of transactions.\n\n[Aesthetics:]{.underline}\n\n-   Good font selection.\n\n-   But there are too many colours which can be visual sensory overload and distracting for the viewer.\n\n## Improvement in Data Visualisation\n\n### Apartment, Condominium, and Terrace House\n\nThe code chunks below filter the combined data set to show only \"Apartment\" property type, and then plots a histogram to show the distribution of Unit Price (\\$ PSM) for Apartment:\n\n\n::: {.cell}\n\n```{.r .cell-code}\napartment <- filter(private_property_data, `Property Type` == 'Apartment')\n\napartment\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 10,772 × 21\n   `Project Name`      `Transacted Price ($)` `Area (SQFT)` `Unit Price ($ PSF)`\n   <chr>                                <dbl>         <dbl>                <dbl>\n 1 WHISTLER GRAND                      850000          441.                 1926\n 2 WILSHIRE RESIDENCES                1990000          753.                 2641\n 3 WILSHIRE RESIDENCES                1975000          743.                 2659\n 4 PARC CLEMATIS                      2735000         1464.                 1868\n 5 MOOI RESIDENCES                    3288888         1281.                 2568\n 6 THE URBANITE                       1470000         1173.                 1253\n 7 ESPIRA RESIDENCE                   1280000         1141.                 1122\n 8 THE SIERRA                         1715000         1033.                 1660\n 9 THE SAIL @ MARINA …                1588888          883.                 1800\n10 THOMSON THREE                       875000          495.                 1767\n# ℹ 10,762 more rows\n# ℹ 17 more variables: `Sale Date` <chr>, Address <chr>, `Type of Sale` <chr>,\n#   `Type of Area` <chr>, `Area (SQM)` <dbl>, `Unit Price ($ PSM)` <dbl>,\n#   `Nett Price($)` <chr>, `Property Type` <chr>, `Number of Units` <dbl>,\n#   Tenure <chr>, `Completion Date` <chr>, `Purchaser Address Indicator` <chr>,\n#   `Postal Code` <chr>, `Postal District` <chr>, `Postal Sector` <chr>,\n#   `Planning Region` <chr>, `Planning Area` <chr>\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\np1 <- ggplot(data=apartment, \n       aes(x= `Unit Price ($ PSM)`)) +\n  geom_histogram(bins=20, \n                 color=\"grey30\",\n                 fill = \"grey\") +\n  ylab('No. of Transactions') +\n  ggtitle(\"Apartment\")\n\np1\n```\n\n::: {.cell-output-display}\n![](Take-home_Ex02_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n\nSimilarly, the code chunks below filter the combined data set to show only \"Condominium\" property type, and then plots a histogram to show the distribution of Unit Price (\\$ PSM) for Condominium:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncondo <- filter(private_property_data, `Property Type` == 'Condominium')\n\ncondo\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 10,643 × 21\n   `Project Name`      `Transacted Price ($)` `Area (SQFT)` `Unit Price ($ PSF)`\n   <chr>                                <dbl>         <dbl>                <dbl>\n 1 THE REEF AT KING'S…                2317000          883.                 2625\n 2 URBAN TREASURES                    1823500          883.                 2066\n 3 PARC BOTANNIA                      1280000          872.                 1468\n 4 AMBER PARK                         1888000          678.                 2784\n 5 THE GAZANIA                        1477000          635.                 2326\n 6 REFLECTIONS AT KEP…                2930000         1421.                 2062\n 7 PARC EMILY                         2000000         1001.                 1998\n 8 A TREASURE TROVE                   1060000          775.                 1368\n 9 THE SIXTH AVENUE R…                2250000          969.                 2323\n10 KEW GREEN                          2610000         3057.                  854\n# ℹ 10,633 more rows\n# ℹ 17 more variables: `Sale Date` <chr>, Address <chr>, `Type of Sale` <chr>,\n#   `Type of Area` <chr>, `Area (SQM)` <dbl>, `Unit Price ($ PSM)` <dbl>,\n#   `Nett Price($)` <chr>, `Property Type` <chr>, `Number of Units` <dbl>,\n#   Tenure <chr>, `Completion Date` <chr>, `Purchaser Address Indicator` <chr>,\n#   `Postal Code` <chr>, `Postal District` <chr>, `Postal Sector` <chr>,\n#   `Planning Region` <chr>, `Planning Area` <chr>\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\np2 <- ggplot(data=condo, \n       aes(x= `Unit Price ($ PSM)`)) +\n  geom_histogram(bins=20, \n                 color=\"grey30\",\n                 fill = \"grey\") +\n  ylab('No. of Transactions') +\n  ggtitle(\"Condominium\")\n\np2\n```\n\n::: {.cell-output-display}\n![](Take-home_Ex02_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n\n\nSimilarly, the code chunks below filter the combined data set to show only \"Terrace House\" property type, and then plots a histogram to show the distribution of Unit Price (\\$ PSM) for Terrace House:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nterrace_house <- filter(private_property_data, `Property Type` == 'Terrace House')\n\nterrace_house\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 1,100 × 21\n   `Project Name`      `Transacted Price ($)` `Area (SQFT)` `Unit Price ($ PSF)`\n   <chr>                                <dbl>         <dbl>                <dbl>\n 1 NANYANG PARK                       5870000         3323.                 1767\n 2 N.A.                               3260000         1555.                 2096\n 3 N.A.                               2800000         2292.                 1222\n 4 PEAKVILLE PARK                     3300000         1668.                 1978\n 5 HILLVIEW GARDEN ES…                3800000         2152.                 1766\n 6 LOYANG VILLAS                      2350000         1660.                 1416\n 7 KECHUBONG TERRACE                  3308000         1696.                 1950\n 8 N.A.                               6000888         1702.                 3526\n 9 GOLDEN HILL ESTATE                 5998000         3926.                 1528\n10 THOMSON GRAND                      3600000         5156.                  698\n# ℹ 1,090 more rows\n# ℹ 17 more variables: `Sale Date` <chr>, Address <chr>, `Type of Sale` <chr>,\n#   `Type of Area` <chr>, `Area (SQM)` <dbl>, `Unit Price ($ PSM)` <dbl>,\n#   `Nett Price($)` <chr>, `Property Type` <chr>, `Number of Units` <dbl>,\n#   Tenure <chr>, `Completion Date` <chr>, `Purchaser Address Indicator` <chr>,\n#   `Postal Code` <chr>, `Postal District` <chr>, `Postal Sector` <chr>,\n#   `Planning Region` <chr>, `Planning Area` <chr>\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\np3 <- ggplot(data=terrace_house, \n       aes(x= `Unit Price ($ PSM)`)) +\n  geom_histogram(bins=20, \n                 color=\"grey30\",\n                 fill = \"grey\") +\n  ylab('No. of Transactions') +\n  ggtitle(\"Terrace House\")\n\np3\n```\n\n::: {.cell-output-display}\n![](Take-home_Ex02_files/figure-html/unnamed-chunk-10-1.png){width=672}\n:::\n:::\n\n\nSince we see that Apartment, Condominium and Terrace House all have the same range of Unit Price (\\$ PSM), we put them together to compare the distributions:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n((p1 / p2) / p3) +\n  plot_annotation(title = 'Property Prices, 2023 to 2024 Q1')\n```\n\n::: {.cell-output-display}\n![](Take-home_Ex02_files/figure-html/unnamed-chunk-11-1.png){width=672}\n:::\n:::\n\n\n### Detached House and Semi-Detached House\n\nThe code chunks below filter the combined data set to show only \"Detached House\" property type, and then plots a histogram to show the distribution of Unit Price (\\$ PSM) for Detached House:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndetached_house <- filter(private_property_data, `Property Type` == 'Detached House')\n\ndetached_house\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 233 × 21\n   `Project Name`      `Transacted Price ($)` `Area (SQFT)` `Unit Price ($ PSF)`\n   <chr>                                <dbl>         <dbl>                <dbl>\n 1 CHANGI GROVE                       5600000         4585.                 1221\n 2 SEMBAWANG SPRINGS …                6580000         6518.                 1010\n 3 SERANGOON GARDEN E…                6000000         4312.                 1391\n 4 KIM LIN PARK                      15050000         4867.                 3092\n 5 N.A.                              11100000        10280.                 1080\n 6 N.A.                              55500000        25681.                 2161\n 7 EDEN PARK                         11000000         5225.                 2105\n 8 N.A.                              10200000        10640.                  959\n 9 GREEN HILL ESTATE                  7268000         5999.                 1212\n10 N.A.                              12800000         5293.                 2418\n# ℹ 223 more rows\n# ℹ 17 more variables: `Sale Date` <chr>, Address <chr>, `Type of Sale` <chr>,\n#   `Type of Area` <chr>, `Area (SQM)` <dbl>, `Unit Price ($ PSM)` <dbl>,\n#   `Nett Price($)` <chr>, `Property Type` <chr>, `Number of Units` <dbl>,\n#   Tenure <chr>, `Completion Date` <chr>, `Purchaser Address Indicator` <chr>,\n#   `Postal Code` <chr>, `Postal District` <chr>, `Postal Sector` <chr>,\n#   `Planning Region` <chr>, `Planning Area` <chr>\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\np4 <- ggplot(data=detached_house, \n       aes(x= `Unit Price ($ PSM)`)) +\n  geom_histogram(bins=20, \n                 color=\"grey30\",\n                 fill = \"grey\") +\n  ylab('No. of Transactions') +\n  ggtitle(\"Detached House\")\n\np4\n```\n\n::: {.cell-output-display}\n![](Take-home_Ex02_files/figure-html/unnamed-chunk-13-1.png){width=672}\n:::\n:::\n\n\nSimilarly, the code chunks below filter the combined data set to show only \"Semi-Detached House\" property type, and then plots a histogram to show the distribution of Unit Price (\\$ PSM) for Semi-Detached House:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsemi_detached <- filter(private_property_data, `Property Type` == 'Semi-Detached House')\n\nsemi_detached\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 524 × 21\n   `Project Name`      `Transacted Price ($)` `Area (SQFT)` `Unit Price ($ PSF)`\n   <chr>                                <dbl>         <dbl>                <dbl>\n 1 PALMS @ SIXTH AVEN…                4950000         4521.                 1095\n 2 FRANKEL ESTATE                     6765000         3962.                 1707\n 3 N.A.                              12600000         5346.                 2357\n 4 SEMBAWANG STRAITS …                2500000         1690.                 1479\n 5 KINGSVILLE                         4750000         3412.                 1392\n 6 TAI KENG GARDENS                   4280000         3595.                 1190\n 7 SEA VIEW PARK                      6350000         3399.                 1868\n 8 N.A.                               3900000         2455.                 1588\n 9 CHIP HOCK GARDENS                 10500000         3148.                 3335\n10 N.A.                               5880000         3239.                 1815\n# ℹ 514 more rows\n# ℹ 17 more variables: `Sale Date` <chr>, Address <chr>, `Type of Sale` <chr>,\n#   `Type of Area` <chr>, `Area (SQM)` <dbl>, `Unit Price ($ PSM)` <dbl>,\n#   `Nett Price($)` <chr>, `Property Type` <chr>, `Number of Units` <dbl>,\n#   Tenure <chr>, `Completion Date` <chr>, `Purchaser Address Indicator` <chr>,\n#   `Postal Code` <chr>, `Postal District` <chr>, `Postal Sector` <chr>,\n#   `Planning Region` <chr>, `Planning Area` <chr>\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\np5 <- ggplot(data=semi_detached, \n       aes(x= `Unit Price ($ PSM)`)) +\n  geom_histogram(bins=20, \n                 color=\"grey30\",\n                 fill = \"grey\") +\n  ylab('No. of Transactions') +\n  ggtitle(\"Semi-Detached House\")\n\np5\n```\n\n::: {.cell-output-display}\n![](Take-home_Ex02_files/figure-html/unnamed-chunk-15-1.png){width=672}\n:::\n:::\n\n\nAgain, since we see that both Detached House and Semi-Detached House have the same range of Unit Price (\\$ PSM), we put them together to compare the distributions:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n(p4 / p5) +\n  plot_annotation(title = 'Detached House and Semi-Detached House Property Prices, 2023 to 2024 Q1')\n```\n\n::: {.cell-output-display}\n![](Take-home_Ex02_files/figure-html/unnamed-chunk-16-1.png){width=672}\n:::\n:::\n\n\n### Executive Condominium\n\nThe code chunks below filter the combined data set to show only \"Executive Condominium\" property type, and then plots a histogram to show the distribution of Unit Price (\\$ PSM) for Executive Condominium:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nexec_condo <- filter(private_property_data, `Property Type` == 'Executive Condominium')\n\nexec_condo\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 3,534 × 21\n   `Project Name`     `Transacted Price ($)` `Area (SQFT)` `Unit Price ($ PSF)`\n   <chr>                               <dbl>         <dbl>                <dbl>\n 1 NORTH GAIA                        1421112         1076.                 1320\n 2 NORTH GAIA                        1258112         1033.                 1218\n 3 NORTHOAKS                         1268000         1604.                  791\n 4 TENET                             1224000          926.                 1322\n 5 TENET                             1534000         1109.                 1384\n 6 BELLEWATERS                       1745000         1335.                 1307\n 7 THE VISIONAIRE                    1030000          947.                 1087\n 8 THE CANOPY                         970000         1033.                  939\n 9 SKYPARK RESIDENCES                1570000         1302.                 1205\n10 THE BROWNSTONE                    1230000          958                  1284\n# ℹ 3,524 more rows\n# ℹ 17 more variables: `Sale Date` <chr>, Address <chr>, `Type of Sale` <chr>,\n#   `Type of Area` <chr>, `Area (SQM)` <dbl>, `Unit Price ($ PSM)` <dbl>,\n#   `Nett Price($)` <chr>, `Property Type` <chr>, `Number of Units` <dbl>,\n#   Tenure <chr>, `Completion Date` <chr>, `Purchaser Address Indicator` <chr>,\n#   `Postal Code` <chr>, `Postal District` <chr>, `Postal Sector` <chr>,\n#   `Planning Region` <chr>, `Planning Area` <chr>\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\np5 <- ggplot(data=exec_condo, \n       aes(x= `Unit Price ($ PSM)`)) +\n  geom_histogram(bins=20, \n                 color=\"grey30\",\n                 fill = \"grey\") +\n  ylab('No. of Transactions') +\n  ggtitle(\"Executive Condominium\")\n\np5\n```\n\n::: {.cell-output-display}\n![](Take-home_Ex02_files/figure-html/unnamed-chunk-18-1.png){width=672}\n:::\n:::\n\n\n## Conclusion\n\n-   The main flaws of the original histogram is that there are too many colours which are distracting. Stacked histogram also makes it difficult to see the distribution of prices for each property type - for example, detached house and semi-detached house can hardly be seen in the histogram.\n\n-   To improve that, we came up with 3 visualisations:\n\n    -   Apartment, Condo, and Terrace House put together in the same plot so that the viewer can compare the distribution of prices between the 3 property types.\n\n    -   Detached House and Semi-Detached House are put together in the same plot, for the same reason stated above.\n\n    -   Executive Condo is on its own, as the range of Unit Price (\\$ PSM) is different from the other property types.\n\n-   This would hopefully make it clearer to the viewer and the colours used are neutral as well, which suits the nature of the data that we are presenting (not trying to show something is good or bad).\n",
    "supporting": [
      "Take-home_Ex02_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}