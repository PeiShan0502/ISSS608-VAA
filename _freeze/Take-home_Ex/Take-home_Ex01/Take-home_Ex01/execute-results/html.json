{
  "hash": "8a78c0f1400023da56a79b765fa46e29",
  "result": {
    "markdown": "---\ntitle: \"Take-home Exercise 1\"\nauthor: \"Kwok Pei Shan\"\ndate: \"April 16, 2024\"\ndate-modified: \"April 26, 2024\"\nexecute: \n  eval: true\n  echo: true\n  warning: false\n  freeze: true\n---\n\n\n## **Context**\n\nThere are two major residential property markets in Singapore, namely public and private housing. Public housing aims to meet the basic need of the general public with monthly household income less than or equal to S\\$14,000. For families with monthly household income more than S\\$14,000, they need to turn to the private residential market.\n\nIn this exercise, we will prepare 2-3 data visualisations to reveal the private residential market and sub-markets of Singapore for the 1st quarter of 2024.\n\n## **Getting Started**\n\n### **Install and load required libraries**\n\nIn this exercise, the following R packages will be used:\n\n-   [**tidyverse**](https://www.tidyverse.org/): an R package that assists with data import, data preparation and wrangling.\n\n-   [**ggrepel**](https://ggrepel.slowkow.com/): an R package provides geoms for ggplot2 to repel overlapping text labels.\n\n-   [**ggthemes**](https://cran.r-project.org/web/packages/ggthemes/): an R package provides some extra themes, geoms, and scales for ‘ggplot2’.\n\n-   [**hrbrthemes**](https://cinc.rud.is/web/packages/hrbrthemes/): an R package provides typography-centric themes and theme components for ggplot2.\n\n-   [**patchwork**](https://patchwork.data-imaginist.com/): an R package for preparing composite figure created using ggplot2.\n\nThe code chunk below will be used to check if these packages have been installed and also load them onto the working R environment:\n\n\n::: {.cell}\n\n```{.r .cell-code}\npacman::p_load(tidyverse, ggrepel, ggthemes, hrbrthemes, patchwork)\n```\n:::\n\n\n### **Import Data**\n\nAs we are looking at the 1st quarter of 2024, we import the transaction data for 1 January 2024 to 31 March 2024, using [*read_csv()*](https://readr.tidyverse.org/reference/read_delim.html) of [**readr**](https://readr.tidyverse.org/) package. **readr** is one of the packages within the tidyverse package.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nresidential2024Q1 <- read_csv('data/ResidentialTransaction20240414220633.csv', show_col_types = FALSE)\n```\n:::\n\n\nWe also import the transaction data in 2023, to compare with the 1st quarter of 2024:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nresidential2023Q1 <- read_csv('data/ResidentialTransaction20240308160536.csv', show_col_types = FALSE)\nresidential2023Q2 <- read_csv('data/ResidentialTransaction20240308160736.csv', show_col_types = FALSE)\nresidential2023Q3 <- read_csv('data/ResidentialTransaction20240308161009.csv', show_col_types = FALSE)\nresidential2023Q4 <- read_csv('data/ResidentialTransaction20240308161109.csv', show_col_types = FALSE)\n```\n:::\n\n\n## **Data Preparation**\n\n### Add \"Quarter\" column\n\nFor our analysis in the later part of this exercise, we need to add new columns \"Year\" and \"Quarter\" to indicate which quarter of the year each transaction took place in.\n\nFor 2024 Q1 data:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nresidential2024Q1 <- cbind(residential2024Q1, Quarter = 'Q1')\n```\n:::\n\n\nFor each quarter of 2023 data:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nresidential2023Q1 <- cbind(residential2023Q1, Quarter = 'Q1')\nresidential2023Q2 <- cbind(residential2023Q2, Quarter = 'Q2')\nresidential2023Q3 <- cbind(residential2023Q3, Quarter = 'Q3')\nresidential2023Q4 <- cbind(residential2023Q4, Quarter = 'Q4')\n```\n:::\n\n\nCombine all 4 quarters of 2023, to get a dataset with all transactions in 2023:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nresidential2023 <- rbind(residential2023Q1, residential2023Q2, residential2023Q3, residential2023Q4)\n```\n:::\n\n\n### Check for duplicates\n\nThe code chunk below shows that there are no duplicates in the 2024 Q1 transaction data:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nresidential2024Q1[duplicated(residential2024Q1),]\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n [1] Project Name                Transacted Price ($)       \n [3] Area (SQFT)                 Unit Price ($ PSF)         \n [5] Sale Date                   Address                    \n [7] Type of Sale                Type of Area               \n [9] Area (SQM)                  Unit Price ($ PSM)         \n[11] Nett Price($)               Property Type              \n[13] Number of Units             Tenure                     \n[15] Completion Date             Purchaser Address Indicator\n[17] Postal Code                 Postal District            \n[19] Postal Sector               Planning Region            \n[21] Planning Area               Quarter                    \n<0 rows> (or 0-length row.names)\n```\n:::\n:::\n\n\nSimilarly, there are no duplicates in the 2023 transaction data:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nresidential2023[duplicated(residential2023),]\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n [1] Project Name                Transacted Price ($)       \n [3] Area (SQFT)                 Unit Price ($ PSF)         \n [5] Sale Date                   Address                    \n [7] Type of Sale                Type of Area               \n [9] Area (SQM)                  Unit Price ($ PSM)         \n[11] Nett Price($)               Property Type              \n[13] Number of Units             Tenure                     \n[15] Completion Date             Purchaser Address Indicator\n[17] Postal Code                 Postal District            \n[19] Postal Sector               Planning Region            \n[21] Planning Area               Quarter                    \n<0 rows> (or 0-length row.names)\n```\n:::\n:::\n\n\n### Check for missing values\n\nThe `colSums()` function in the **base** package is used to check for missing values. The output of the code chunk below shows there are no missing values in the 2024 transaction data.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncolSums(is.na(residential2024Q1))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n               Project Name        Transacted Price ($) \n                          0                           0 \n                Area (SQFT)          Unit Price ($ PSF) \n                          0                           0 \n                  Sale Date                     Address \n                          0                           0 \n               Type of Sale                Type of Area \n                          0                           0 \n                 Area (SQM)          Unit Price ($ PSM) \n                          0                           0 \n              Nett Price($)               Property Type \n                          0                           0 \n            Number of Units                      Tenure \n                          0                           0 \n            Completion Date Purchaser Address Indicator \n                          0                           0 \n                Postal Code             Postal District \n                          0                           0 \n              Postal Sector             Planning Region \n                          0                           0 \n              Planning Area                     Quarter \n                          0                           0 \n```\n:::\n:::\n\n\nHowever, there are 6 missing values in the Area (SQM) column in the 2023 transaction data. As this makes up only 0.0274% of the 2023 transaction data, we will remove them from the subsequent analysis. The `na.omit()` function in the **stats** package is used to remove them from `residential2023`, which now has 21,898 observations and 21 variables. A confirmatory check is then made with the `colSums()` function in the **base** package.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncolSums(is.na(residential2023))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n               Project Name        Transacted Price ($) \n                          0                           0 \n                Area (SQFT)          Unit Price ($ PSF) \n                          0                           0 \n                  Sale Date                     Address \n                          0                           0 \n               Type of Sale                Type of Area \n                          0                           0 \n                 Area (SQM)          Unit Price ($ PSM) \n                          6                           0 \n              Nett Price($)               Property Type \n                          0                           0 \n            Number of Units                      Tenure \n                          0                           0 \n            Completion Date Purchaser Address Indicator \n                          0                           0 \n                Postal Code             Postal District \n                          0                           0 \n              Postal Sector             Planning Region \n                          0                           0 \n              Planning Area                     Quarter \n                          0                           0 \n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nresidential2023 = residential2023 %>%\n  na.omit()\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ncolSums(is.na(residential2023))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n               Project Name        Transacted Price ($) \n                          0                           0 \n                Area (SQFT)          Unit Price ($ PSF) \n                          0                           0 \n                  Sale Date                     Address \n                          0                           0 \n               Type of Sale                Type of Area \n                          0                           0 \n                 Area (SQM)          Unit Price ($ PSM) \n                          0                           0 \n              Nett Price($)               Property Type \n                          0                           0 \n            Number of Units                      Tenure \n                          0                           0 \n            Completion Date Purchaser Address Indicator \n                          0                           0 \n                Postal Code             Postal District \n                          0                           0 \n              Postal Sector             Planning Region \n                          0                           0 \n              Planning Area                     Quarter \n                          0                           0 \n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# check that missing values have been removed.\nglimpse(residential2023)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nRows: 21,898\nColumns: 22\n$ `Project Name`                <chr> \"THE REEF AT KING'S DOCK\", \"URBAN TREASU…\n$ `Transacted Price ($)`        <dbl> 2317000, 1823500, 1421112, 1258112, 1280…\n$ `Area (SQFT)`                 <dbl> 882.65, 882.65, 1076.40, 1033.34, 871.88…\n$ `Unit Price ($ PSF)`          <dbl> 2625, 2066, 1320, 1218, 1468, 1767, 1095…\n$ `Sale Date`                   <chr> \"01 Jan 2023\", \"02 Jan 2023\", \"02 Jan 20…\n$ Address                       <chr> \"12 HARBOURFRONT AVENUE #05-32\", \"205 JA…\n$ `Type of Sale`                <chr> \"New Sale\", \"New Sale\", \"New Sale\", \"New…\n$ `Type of Area`                <chr> \"Strata\", \"Strata\", \"Strata\", \"Strata\", …\n$ `Area (SQM)`                  <dbl> 82.0, 82.0, 100.0, 96.0, 81.0, 308.7, 42…\n$ `Unit Price ($ PSM)`          <dbl> 28256, 22238, 14211, 13105, 15802, 19015…\n$ `Nett Price($)`               <chr> \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", …\n$ `Property Type`               <chr> \"Condominium\", \"Condominium\", \"Executive…\n$ `Number of Units`             <dbl> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1…\n$ Tenure                        <chr> \"99 yrs from 12/01/2021\", \"Freehold\", \"9…\n$ `Completion Date`             <chr> \"Uncompleted\", \"Uncompleted\", \"Uncomplet…\n$ `Purchaser Address Indicator` <chr> \"HDB\", \"Private\", \"HDB\", \"HDB\", \"HDB\", \"…\n$ `Postal Code`                 <chr> \"097996\", \"419535\", \"269343\", \"269294\", …\n$ `Postal District`             <chr> \"04\", \"14\", \"27\", \"27\", \"28\", \"19\", \"10\"…\n$ `Postal Sector`               <chr> \"09\", \"41\", \"26\", \"26\", \"79\", \"54\", \"27\"…\n$ `Planning Region`             <chr> \"Central Region\", \"East Region\", \"North …\n$ `Planning Area`               <chr> \"Bukit Merah\", \"Bedok\", \"Yishun\", \"Yishu…\n$ Quarter                       <chr> \"Q1\", \"Q1\", \"Q1\", \"Q1\", \"Q1\", \"Q1\", \"Q1\"…\n```\n:::\n:::\n\n\n### Check data type\n\nA glimpse into the transaction data in 2024 shows that the Sale Date column is currently in the character data type instead of the Date data type:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nglimpse(residential2024Q1)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nRows: 4,902\nColumns: 22\n$ `Project Name`                <chr> \"THE LANDMARK\", \"POLLEN COLLECTION\", \"SK…\n$ `Transacted Price ($)`        <dbl> 2726888, 3850000, 2346000, 2190000, 1954…\n$ `Area (SQFT)`                 <dbl> 1076.40, 1808.35, 1087.16, 807.30, 796.5…\n$ `Unit Price ($ PSF)`          <dbl> 2533, 2129, 2158, 2713, 2453, 2577, 838,…\n$ `Sale Date`                   <chr> \"01 Jan 2024\", \"01 Jan 2024\", \"01 Jan 20…\n$ Address                       <chr> \"173 CHIN SWEE ROAD #22-11\", \"34 POLLEN …\n$ `Type of Sale`                <chr> \"New Sale\", \"New Sale\", \"New Sale\", \"New…\n$ `Type of Area`                <chr> \"Strata\", \"Land\", \"Strata\", \"Strata\", \"S…\n$ `Area (SQM)`                  <dbl> 100.0, 168.0, 101.0, 75.0, 74.0, 123.0, …\n$ `Unit Price ($ PSM)`          <dbl> 27269, 22917, 23228, 29200, 26405, 27741…\n$ `Nett Price($)`               <chr> \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", …\n$ `Property Type`               <chr> \"Condominium\", \"Terrace House\", \"Apartme…\n$ `Number of Units`             <dbl> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1…\n$ Tenure                        <chr> \"99 yrs from 28/08/2020\", \"99 yrs from 0…\n$ `Completion Date`             <chr> \"Uncompleted\", \"Uncompleted\", \"Uncomplet…\n$ `Purchaser Address Indicator` <chr> \"Private\", \"N.A\", \"HDB\", \"N.A\", \"Private…\n$ `Postal Code`                 <chr> \"169878\", \"807233\", \"469657\", \"118992\", …\n$ `Postal District`             <chr> \"03\", \"28\", \"16\", \"05\", \"21\", \"21\", \"28\"…\n$ `Postal Sector`               <chr> \"16\", \"80\", \"46\", \"11\", \"59\", \"58\", \"79\"…\n$ `Planning Region`             <chr> \"Central Region\", \"North East Region\", \"…\n$ `Planning Area`               <chr> \"Outram\", \"Serangoon\", \"Bedok\", \"Queenst…\n$ Quarter                       <chr> \"Q1\", \"Q1\", \"Q1\", \"Q1\", \"Q1\", \"Q1\", \"Q1\"…\n```\n:::\n:::\n\n\nWe convert it into Date data type using the following code:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nresidential2024Q1$`Sale Date` <- \n  as.Date(parse_date_time(residential2024Q1$`Sale Date`, orders = c(\"%d %b %Y\")))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n#Alternative method to check data type of each variable\nstr(residential2024Q1)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n'data.frame':\t4902 obs. of  22 variables:\n $ Project Name               : chr  \"THE LANDMARK\" \"POLLEN COLLECTION\" \"SKY EDEN@BEDOK\" \"TERRA HILL\" ...\n $ Transacted Price ($)       : num  2726888 3850000 2346000 2190000 1954000 ...\n $ Area (SQFT)                : num  1076 1808 1087 807 797 ...\n $ Unit Price ($ PSF)         : num  2533 2129 2158 2713 2453 ...\n $ Sale Date                  : Date, format: \"2024-01-01\" \"2024-01-01\" ...\n $ Address                    : chr  \"173 CHIN SWEE ROAD #22-11\" \"34 POLLEN PLACE\" \"1 BEDOK CENTRAL #09-10\" \"18A YEW SIANG ROAD #03-12\" ...\n $ Type of Sale               : chr  \"New Sale\" \"New Sale\" \"New Sale\" \"New Sale\" ...\n $ Type of Area               : chr  \"Strata\" \"Land\" \"Strata\" \"Strata\" ...\n $ Area (SQM)                 : num  100 168 101 75 74 ...\n $ Unit Price ($ PSM)         : num  27269 22917 23228 29200 26405 ...\n $ Nett Price($)              : chr  \"-\" \"-\" \"-\" \"-\" ...\n $ Property Type              : chr  \"Condominium\" \"Terrace House\" \"Apartment\" \"Apartment\" ...\n $ Number of Units            : num  1 1 1 1 1 1 1 1 1 1 ...\n $ Tenure                     : chr  \"99 yrs from 28/08/2020\" \"99 yrs from 09/12/2019\" \"99 yrs from 05/01/2022\" \"Freehold\" ...\n $ Completion Date            : chr  \"Uncompleted\" \"Uncompleted\" \"Uncompleted\" \"Uncompleted\" ...\n $ Purchaser Address Indicator: chr  \"Private\" \"N.A\" \"HDB\" \"N.A\" ...\n $ Postal Code                : chr  \"169878\" \"807233\" \"469657\" \"118992\" ...\n $ Postal District            : chr  \"03\" \"28\" \"16\" \"05\" ...\n $ Postal Sector              : chr  \"16\" \"80\" \"46\" \"11\" ...\n $ Planning Region            : chr  \"Central Region\" \"North East Region\" \"East Region\" \"Central Region\" ...\n $ Planning Area              : chr  \"Outram\" \"Serangoon\" \"Bedok\" \"Queenstown\" ...\n $ Quarter                    : chr  \"Q1\" \"Q1\" \"Q1\" \"Q1\" ...\n```\n:::\n:::\n\n\nSimilarly, we convert the data type of \"Sale Date\" in `residential2023` from character data type to Date data type:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nresidential2023$`Sale Date` <- \n  as.Date(parse_date_time(residential2023$`Sale Date`, orders = c(\"%d %b %Y\")))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nresidential2023Q1$`Sale Date` <- \n  as.Date(parse_date_time(residential2023Q1$`Sale Date`, orders = c(\"%d %b %Y\")))\n\nresidential2023Q2$`Sale Date` <- \n  as.Date(parse_date_time(residential2023Q2$`Sale Date`, orders = c(\"%d %b %Y\")))\n\nresidential2023Q3$`Sale Date` <- \n  as.Date(parse_date_time(residential2023Q3$`Sale Date`, orders = c(\"%d %b %Y\")))\n\nresidential2023Q4$`Sale Date` <- \n  as.Date(parse_date_time(residential2023Q4$`Sale Date`, orders = c(\"%d %b %Y\")))\n```\n:::\n\n\n### Add \"Year\" column\n\nFor our analysis in the later part of this exercise, we also add a new column \"Year\" to indicate which year each transaction took place in.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nresidential2024Q1 <- cbind(residential2024Q1, \n                           Year = as.character(year(residential2024Q1$`Sale Date`)))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nresidential2023 <- cbind(residential2023, \n                           Year = as.character(year(residential2023$`Sale Date`)))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nresidential2023Q1 <- cbind(residential2023Q1, \n                           Year = as.character(year(residential2023Q1$`Sale Date`)))\n\nresidential2023Q2 <- cbind(residential2023Q2, \n                           Year = as.character(year(residential2023Q2$`Sale Date`)))\n\nresidential2023Q3 <- cbind(residential2023Q3, \n                           Year = as.character(year(residential2023Q3$`Sale Date`)))\n\nresidential2023Q4 <- cbind(residential2023Q4, \n                           Year = as.character(year(residential2023Q4$`Sale Date`)))\n```\n:::\n\n\n#### \n\n## **Data Visualizations**\n\n### Compare Transacted Price by Type of Sale\n\n1.  Comparing Transacted Price by Type of Sale, in [2024 Q1]{.underline}\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data=residential2024Q1, \n       aes(y = `Transacted Price ($)`,       \n           x= `Type of Sale`)) +    \n    scale_y_continuous(labels = scales::comma) +\n  geom_boxplot()            \n```\n\n::: {.cell-output-display}\n![](Take-home_Ex01_files/figure-html/unnamed-chunk-22-1.png){width=672}\n:::\n:::\n\n\nThe above chart does not look very useful as the box plots look very squished due to a large range in transacted price.\n\nWe remove two outliers, where Transacted price is at \\$39.5mil and \\$26.5mil:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nresidential2024Q1_no_outlier <- \n  residential2024Q1[residential2024Q1$`Transacted Price ($)` < 26500000,]\n```\n:::\n\n\nand plot the box plots again:\n\n\n::: {.cell}\n\n```{.r .cell-code}\np1 <- ggplot(data=residential2024Q1_no_outlier, \n       aes(y = `Transacted Price ($)`,       \n           x= `Type of Sale`)) +    \n    scale_y_continuous(labels = scales::comma) +\n  geom_boxplot() +\n  ggtitle(\"Transacted Prices in 2024 Q1\")\n\np1\n```\n\n::: {.cell-output-display}\n![](Take-home_Ex01_files/figure-html/unnamed-chunk-24-1.png){width=672}\n:::\n:::\n\n\nThe above data visualisation shows that in 2024 Q1, the median transacted price for resale is slightly lower than that of new sale. This is surprising considering that resale is usually deemed to be more expensive. However, the range of prices for resale is also larger as compared to new sale or sub sale, as shown by its larger interquartile range (IQR).\n\nWe repeat the same steps for 2023 Q1 transaction data, to see if there is any difference with 2024 Q1:\n\n2.  Comparing Transacted Price by Type of Sale, in [2023 Q1]{.underline}\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data=residential2023Q1, \n       aes(y = `Transacted Price ($)`,       \n           x= `Type of Sale`)) +    \n    scale_y_continuous(labels = scales::comma) +\n  geom_boxplot()  \n```\n\n::: {.cell-output-display}\n![](Take-home_Ex01_files/figure-html/unnamed-chunk-25-1.png){width=672}\n:::\n:::\n\n\nRemoving the outlier (where Transacted Price \\> \\$30mil) and plotting the box plots again:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nresidential2023Q1_no_outlier <- \n  residential2023Q1[residential2023Q1$`Transacted Price ($)` < 30000000,]\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\np2 <- ggplot(data=residential2023Q1_no_outlier, \n       aes(y = `Transacted Price ($)`,       \n           x= `Type of Sale`)) +    \n    scale_y_continuous(labels = scales::comma) +\n  geom_boxplot() +\n  ggtitle(\"Transacted Prices in 2023 Q1\")\n\np2\n```\n\n::: {.cell-output-display}\n![](Take-home_Ex01_files/figure-html/unnamed-chunk-27-1.png){width=672}\n:::\n:::\n\n\nSimilar to 2024 Q1, the above chart shows that the median transacted price is lower for resale (as compared to new sale). However, the interquartile range of transacted prices of resale and new sale are similar, and the interquartile range of transacted prices for sub sale is much smaller this time.\n\nIt would be useful to compare these plots side-by-side for comparison of the same quarter in different years. We can use the patchwork package to do so:\n\n\n::: {.cell}\n\n```{.r .cell-code}\np1 | p2\n```\n\n::: {.cell-output-display}\n![](Take-home_Ex01_files/figure-html/unnamed-chunk-28-1.png){width=672}\n:::\n:::\n\n\nPotential improvements to the above composite plot:\n\n-   Synchronise the Type of Sale axis for both 2024 Q1 and 2023 Q1\n\n-   Synchronise the Transacted Price (\\$) axis for both 2024 Q1 and 2023 Q1, for better comparison between the two plots.\n\n### Compare No. of Sales by Quarter\n\nWe would like to see whether there is any difference in the number of transactions in each quarter. We can visualise this using a bar chart.\n\n\n::: {.cell}\n\n```{.r .cell-code}\np3 <- ggplot(data=residential2023, \n       aes(x=Quarter)) +\n  geom_bar() +\n  ggtitle('No. of Transactions in each Quarter (2023)') +\n  labs(y = 'No. of Transactions')\n\np3\n```\n\n::: {.cell-output-display}\n![](Take-home_Ex01_files/figure-html/unnamed-chunk-29-1.png){width=672}\n:::\n:::\n\n\nThe above bar chart shows that in 2023, there were more transactions taking place in **Q2 and Q3 (i.e., April to September)**, compared to Q1 (January to March) and Q4 (October to December). A possible reason why there are fewer transactions in Q1 may be because of the Chinese New Year celebrations in Singapore, and a possible reason why there are fewer transactions in Q4 may be because it's during the school holidays where families tend to go for overseas vacations instead of buying property.\n\nWe also compare 2023 Q1 sale with 2024 Q1 sale:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nresidentialQ1 <- rbind(residential2023Q1, residential2024Q1)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\np4 <- ggplot(data=residentialQ1, \n       aes(x=Year)) +\n  geom_bar() +\n  ggtitle('Comparing Q1 Sales') +\n  labs(y = 'No. of Transactions')\n\np4\n```\n\n::: {.cell-output-display}\n![](Take-home_Ex01_files/figure-html/unnamed-chunk-31-1.png){width=672}\n:::\n:::\n\n\nThe above plot shows that the number of transactions in 2024 Q1 is almost the same than the number of transactions in 2023 Q1 (only slightly higher).\n\nWe put both bar charts together in a composite plot:\n\n\n::: {.cell}\n\n```{.r .cell-code}\np3 + p4\n```\n\n::: {.cell-output-display}\n![](Take-home_Ex01_files/figure-html/unnamed-chunk-32-1.png){width=672}\n:::\n:::\n\n\n### Compare Transacted Price By Property Type\n\nFirst, we combine all the data into one combined dataset:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nresidential <- rbind(residential2023Q1, residential2023Q2, residential2023Q3, residential2023Q4, residential2024Q1)\n```\n:::\n\n\nThen we plot a box plot of transacted prices by property type:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data=residential, \n       aes(y = `Transacted Price ($)`,       \n           x= `Property Type`)) +    \n    scale_y_continuous(labels = scales::comma) +\n  geom_boxplot() +\n  ggtitle(\"Transacted Prices by Property Type\")\n```\n\n::: {.cell-output-display}\n![](Take-home_Ex01_files/figure-html/unnamed-chunk-34-1.png){width=672}\n:::\n:::\n\n\nRemoving data points which Transacted Price \\> 100million, so that we can see the box plots better:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nresidential_no_outlier <- \n  residential[residential$`Transacted Price ($)` < 100000000,]\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data=residential_no_outlier, \n       aes(y = `Transacted Price ($)`,       \n           x= `Property Type`)) +    \n    scale_y_continuous(labels = scales::comma) +\n  geom_boxplot() +\n  ggtitle(\"Transacted Prices by Property Type (< $100mil)\")\n```\n\n::: {.cell-output-display}\n![](Take-home_Ex01_files/figure-html/unnamed-chunk-36-1.png){width=672}\n:::\n:::\n\n\nThe above box plot shows that the property type with the highest median price is **Detached House**. It also has the largest interquartile range.\n\n## **Summary and Conclusion**\n\n1.  The median price for resale property is surprisingly, lower than that of new sale. However, the prices of resale property also have higher variability.\n\n2.  There are more sales in Q2 and Q3, as compared to Q1 or Q4.\n\n3.  The property type with the highest median price is Detached House.\n\n## **Key References**\n\n[R for Visual Analytics](https://r4va.netlify.app/)\n\n[URA Data Dictionary](https://www.ura.gov.sg/reis/dataDictionary#:~:text=Purchaser%20Address%20Indicator%3A%20It%20refers,is%20owned%20by%20the%20purchaser)\n",
    "supporting": [
      "Take-home_Ex01_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}